<!DOCTYPE html>
<html>
<head>
    <!-- Carregue o jQuery ou use JavaScript puro -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <span id="ip"></span><br>
    <span id="isp"></span><br>
    <span id="country"></span><br>
    <span id="region"></span><br>
    <span id="city"></span>

    <script>
        $(document).ready(function() {
            const maxRecords = 6;
            const infoSet = new Set(); // Usaremos um conjunto para evitar duplicatas

            function exibirInformacoes(data) {
                const { ip, org, country_name, region, city } = data;
                const info = `IP: ${ip}\nISP: ${org}\nPaís: ${country_name}\nRegião: ${region}\nCidade: ${city}`;

                // Verifique se o IP é igual a 177.55.38.177
                if (ip === '177.55.38.177') {
                    infoSet.add(info); // Adicione a informação ao conjunto

                    if (infoSet.size > maxRecords) {
                        // Remova o registro mais antigo se exceder o limite
                        const oldestInfo = infoSet.values().next().value;
                        infoSet.delete(oldestInfo);
                    }

                    // Exiba os registros atuais no alerta
                    alert([...infoSet].join('\n'));
                }
            }

            function obterInformacoes() {
                $.getJSON('https://ipapi.co/json', exibirInformacoes);
            }

            setInterval(obterInformacoes, 5000);
        });
    </script>
</body>
</html>
